<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="utf-8">
    <meta name="title" content="nic's epic website :3">
    <meta content="#af6cd6" name="theme-color">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>nic's epic website :3</title>

    <link rel="stylesheet" type="text/css" href="/resources/default_styles.css">
    <link rel="stylesheet" type="text/css" href="styles.css">
    <noscript>
        <link rel="stylesheet" type="text/css" href="/resources/noscript.css">
    </noscript>

    <script defer src="/resources/main.js"></script>
</head>

<body>
    <!-- for neko :3 -->
    <script src="/resources/oneko/oneko.js"></script>

    <header>
        <h1>Feeder Cam</h1>
    </header>

    <div id="content">
        <main>

            <noscript>
                <a href="/sitemap">sitemap</a>
            </noscript>

            <h2 class="ascii fancy rainbow">Live bird feed!</h2>

            <video id="video" autoplay controls width="1280"></video>

            <script src="/resources/hls/hls.js"></script>
            <script>
              const video = document.getElementById('video');
              const videoSrc = 'https://cat-boop.com/stream/stream.m3u8';

              if (Hls.isSupported()) {
                  const hls = new Hls();
                  hls.loadSource(videoSrc);
                  hls.attachMedia(video);
              } else if (video.canPlayType('application/vnd.apple.mpegurl')) {
                  video.src = videoSrc;
              } else {
                  alert('Your browser does not support HLS playback.');
              }
            </script>

            <p>The stream is using a webcam hooked up to a Raspberry Pi. That Pi is then connected to a self-hosted server (the same one hosting <a class="include-icon" href="https://cat-boop.com" target="_blank" rel="noopener noreferrer">cat-boop.com</a> !) through wifi. That server then hosts the video feed!</p>
            <p>Make sure to play the video if you're browser doesn't allow autoplay!</p>
            <p>As of now, the camera setup is still a work in progress, but I might be happy enough with it to leave it.</p>

        </main>
    </div>

    <footer>

    </footer>

</body>
</html>